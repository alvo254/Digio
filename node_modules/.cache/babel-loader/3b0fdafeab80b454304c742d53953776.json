{"ast":null,"code":"\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.parseRelativeUrl = parseRelativeUrl;\n\nvar _utils = require(\"../../utils\");\n\nvar _querystring = require(\"./querystring\");\n\nfunction parseRelativeUrl(url, base) {\n  const globalBase = new URL(typeof window === 'undefined' ? 'http://n' : (0, _utils).getLocationOrigin());\n  const resolvedBase = base ? new URL(base, globalBase) : globalBase;\n  const {\n    pathname,\n    searchParams,\n    search,\n    hash,\n    href,\n    origin\n  } = new URL(url, resolvedBase);\n\n  if (origin !== globalBase.origin) {\n    throw new Error(`invariant: invalid relative URL, router received ${url}`);\n  }\n\n  return {\n    pathname,\n    query: (0, _querystring).searchParamsToUrlQuery(searchParams),\n    search,\n    hash,\n    href: href.slice(globalBase.origin.length)\n  };\n}","map":{"version":3,"mappings":";;;;;QASgBA;;AATkB,UAAa,yBAAb;;AACK,gBAAe,2BAAf;;SAQvBA,iBAAiBC,KAAaC,MAAe;EAC3D,MAAMC,UAAU,GAAG,IAAIC,GAAJ,CACjB,OAAOC,MAAP,KAAkB,WAAlB,GAAgC,UAAhC,GAA0C,IAAGC,MAAH,EAAoBA,iBAApB,EADzB,CAAnB;EAGA,MAAMC,YAAY,GAAGL,IAAI,GAAG,IAAIE,GAAJ,CAAQF,IAAR,EAAcC,UAAd,CAAH,GAA+BA,UAAxD;EACA,MAAM;IAAEK,QAAF;IAAYC,YAAZ;IAA0BC,MAA1B;IAAkCC,IAAlC;IAAwCC,IAAxC;IAA8CC;EAA9C,IAAyD,IAAIT,GAAJ,CAC7DH,GAD6D,EAE7DM,YAF6D,CAA/D;;EAIA,IAAIM,MAAM,KAAKV,UAAU,CAACU,MAA1B,EAAkC;IAChC,MAAM,IAAIC,KAAJ,CAAW,oDAAmDb,GAAG,EAAjE,CAAN;EACD;;EACD,OAAO;IACLO,QADK;IAELO,KAAK,MAAEC,YAAF,EAAwBA,sBAAxB,CAAyBP,YAAzB,CAFA;IAGLC,MAHK;IAILC,IAJK;IAKLC,IAAI,EAAEA,IAAI,CAACK,KAALL,CAAWT,UAAU,CAACU,MAAXV,CAAkBe,MAA7BN;EALD,CAAP;AAOD","names":["parseRelativeUrl","url","base","globalBase","URL","window","getLocationOrigin","resolvedBase","pathname","searchParams","search","hash","href","origin","Error","query","searchParamsToUrlQuery","slice","length"],"sources":["../../../../../shared/lib/router/utils/parse-relative-url.ts"],"sourcesContent":[null]},"metadata":{},"sourceType":"script"}