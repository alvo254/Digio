{"ast":null,"code":"\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.execOnce = execOnce;\nexports.getLocationOrigin = getLocationOrigin;\nexports.getURL = getURL;\nexports.getDisplayName = getDisplayName;\nexports.isResSent = isResSent;\nexports.normalizeRepeatedSlashes = normalizeRepeatedSlashes;\nexports.loadGetInitialProps = loadGetInitialProps;\nexports.ST = exports.SP = exports.warnOnce = void 0;\n\nfunction execOnce(fn) {\n  let used = false;\n  let result;\n  return function () {\n    if (!used) {\n      used = true;\n      result = fn(...arguments);\n    }\n\n    return result;\n  };\n}\n\nfunction getLocationOrigin() {\n  const {\n    protocol,\n    hostname,\n    port\n  } = window.location;\n  return `${protocol}//${hostname}${port ? ':' + port : ''}`;\n}\n\nfunction getURL() {\n  const {\n    href\n  } = window.location;\n  const origin = getLocationOrigin();\n  return href.substring(origin.length);\n}\n\nfunction getDisplayName(Component) {\n  return typeof Component === 'string' ? Component : Component.displayName || Component.name || 'Unknown';\n}\n\nfunction isResSent(res) {\n  return res.finished || res.headersSent;\n}\n\nfunction normalizeRepeatedSlashes(url) {\n  const urlParts = url.split('?');\n  const urlNoQuery = urlParts[0];\n  return urlNoQuery // first we replace any non-encoded backslashes with forward\n  // then normalize repeated forward slashes\n  .replace(/\\\\/g, '/').replace(/\\/\\/+/g, '/') + (urlParts[1] ? `?${urlParts.slice(1).join('?')}` : '');\n}\n\nasync function loadGetInitialProps(App, ctx) {\n  if (process.env.NODE_ENV !== 'production') {\n    var ref;\n\n    if ((ref = App.prototype) === null || ref === void 0 ? void 0 : ref.getInitialProps) {\n      const message = `\"${getDisplayName(App)}.getInitialProps()\" is defined as an instance method - visit https://nextjs.org/docs/messages/get-initial-props-as-an-instance-method for more information.`;\n      throw new Error(message);\n    }\n  } // when called from _app `ctx` is nested in `ctx`\n\n\n  const res = ctx.res || ctx.ctx && ctx.ctx.res;\n\n  if (!App.getInitialProps) {\n    if (ctx.ctx && ctx.Component) {\n      // @ts-ignore pageProps default\n      return {\n        pageProps: await loadGetInitialProps(ctx.Component, ctx.ctx)\n      };\n    }\n\n    return {};\n  }\n\n  const props = await App.getInitialProps(ctx);\n\n  if (res && isResSent(res)) {\n    return props;\n  }\n\n  if (!props) {\n    const message = `\"${getDisplayName(App)}.getInitialProps()\" should resolve to an object. But found \"${props}\" instead.`;\n    throw new Error(message);\n  }\n\n  if (process.env.NODE_ENV !== 'production') {\n    if (Object.keys(props).length === 0 && !ctx.ctx) {\n      console.warn(`${getDisplayName(App)} returned an empty object from \\`getInitialProps\\`. This de-optimizes and prevents automatic static optimization. https://nextjs.org/docs/messages/empty-object-getInitialProps`);\n    }\n  }\n\n  return props;\n}\n\nlet warnOnce = _ => {};\n\nexports.warnOnce = warnOnce;\n\nif (process.env.NODE_ENV !== 'production') {\n  const warnings = new Set();\n\n  exports.warnOnce = warnOnce = msg => {\n    if (!warnings.has(msg)) {\n      console.warn(msg);\n    }\n\n    warnings.add(msg);\n  };\n}\n\nconst SP = typeof performance !== 'undefined';\nexports.SP = SP;\nconst ST = SP && typeof performance.mark === 'function' && typeof performance.measure === 'function';\nexports.ST = ST;\n\nclass DecodeError extends Error {}\n\nexports.DecodeError = DecodeError;\n\nclass NormalizeError extends Error {}\n\nexports.NormalizeError = NormalizeError;","map":{"version":3,"mappings":"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","names":["execOnce","getLocationOrigin","getURL","getDisplayName","isResSent","normalizeRepeatedSlashes","loadGetInitialProps","fn","used","result","protocol","hostname","port","window","location","href","origin","substring","length","Component","displayName","name","res","finished","headersSent","url","urlParts","split","urlNoQuery","replace","slice","join","App","ctx","process","env","NODE_ENV","prototype","getInitialProps","message","Error","pageProps","props","Object","keys","console","warn","warnOnce","_","warnings","Set","msg","has","add","SP","performance","ST","mark","measure","DecodeError","NormalizeError"],"sources":["../../../shared/lib/utils.ts"],"sourcesContent":[null]},"metadata":{},"sourceType":"script"}